<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="kinglionsfrank@163.com"><title>基于AF的二次封装FrankNetworkManage · Frank(不羁放荡爱自由)</title><meta name="description" content="对于iOS程序猿来说，AFNetworking的强大之处，自然是不用言表，大家都早已深有体会。但是一般在使用这些第三方的时候，我们一般都会根据自己的使用习惯及业务功能需求进行封装处理，当然我也一样，对AFNetworking进行了二次封装处理，所以此次发布出来仅供参考：
注意：使用该框架前，需要集成"><meta name="keywords" content="Hexo,HTML,Frank,CSS,iOS,苹果"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo.png" style="width:127px;"><h4 title=""><a href="/">Frank(不羁放荡爱自由)</a></h4><div class="description"><p>程序猿的生活中其实并非只有code，我们还有诗和远方 ~~~</p></div></div></div><ul class="social-links"><li><a href="http://www.jianshu.com/u/d35e7ed50e98"><i class="fa fa-jianshu"></i></a></li><li><a href="https://github.com/Kinglions"><i class="fa fa-github"></i></a></li><li><a href="https://kinglions.coding.me"><i class="fa fa-coding"></i></a></li><li><a href="http://weibo.com/u/5183524910"><i class="fa fa-weibo"></i></a></li><li><a href="mailto:kinglionsfrank@163.com"><i class="fa fa-emil"></i></a></li></ul><div class="footer"><a target="_blank" href="/"><span>Theme by</span></a><a href="http://www.jianshu.com/u/d35e7ed50e98"> KingLionsFrank</a><span>&</span><a href="https://github.com/Kinglions"> Frank</a><div class="by_farbox"><a href="https://hexo.io/zh-cn/" target="_blank">Proudly published with Hexo&#65281;</a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">首页</a></li><li><a href="/about">关于</a></li><li><a href="/archives">归档</a></li></div><div class="information"><div class="back_btn"><li><a onclick="window.history.go(-1)" class="fa fa-chevron-left"> </a></li></div><div class="avatar"><img src="/images/logo.png"></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>基于AF的二次封装FrankNetworkManage</a></h3></div><div class="post-content"><p>对于iOS程序猿来说，<code>AFNetworking</code>的强大之处，自然是不用言表，大家都早已深有体会。但是一般在使用这些第三方的时候，我们一般都会根据自己的使用习惯及业务功能需求进行封装处理，当然我也一样，对<code>AFNetworking</code>进行了二次封装处理，所以此次发布出来仅供参考：</p>
<p><a href="#">注意：使用该框架前，需要集成 AFNetworking 和 FMDB，因为该框架是基于这两者进行的二次封装</a></p>
<h4>一：框架特点</h4><h6>1：基于<code>AFNetworking</code>封装处理，简化了对<code>AFNetworking</code>的直接操作，使调用更加方便简洁；<br>2：将<code>AFNetworking</code>原有的两种回调方式拓展为了三种回调，并且支持用户根据服务器数据格式进行配置，功能细化，操作简单；<br>3：结合<code>FMDB</code>封装了数据库，可以根据需要进行缓存网络数据；<br>4：集成了<code>Delegate</code>和<code>Block</code>两种网络回调方式，用户可以根据自己的喜好进行选择使用任意一种回调方式；</h6><br><a href="https://github.com/Kinglions/FrankNetworkManage" target="_blank" rel="external">Demo链接：https://github.com/Kinglions/FrankNetworkManage</a><br><br><h4>二：框架解析</h4>

<p><img src="http://upload-images.jianshu.io/upload_images/1616138-661d9664e3eaa65c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="框架截图.png"></p>
<h6>（1）网络请求框架：</h6>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> *  网络请求封装</div><div class="line"> */</div><div class="line"></div><div class="line">#import &lt;Foundation/Foundation.h&gt;</div><div class="line">#import &lt;UIKit/UIKit.h&gt;</div><div class="line">#import &lt;AFNetworking.h&gt;</div><div class="line">#import &lt;AFNetworking/AFURLSessionManager.h&gt;</div><div class="line">#import &quot;FrankNetworkMacro.h&quot;</div><div class="line"></div><div class="line">typedef void (^RequestPrepare)();</div><div class="line">typedef void (^RequestFinally)();</div><div class="line"></div><div class="line">/**</div><div class="line"> 请求成功回调</div><div class="line"></div><div class="line"> @param task 请求对象</div><div class="line"> @param responseObject 响应数据</div><div class="line"> @param requestParams 请求参数</div><div class="line"> */</div><div class="line">typedef void (^ReplySucess)(NSURLSessionDataTask *task, id responseObject, NSDictionary* requestParams);</div><div class="line"></div><div class="line">/**</div><div class="line"> 请求失败回调</div><div class="line"> */</div><div class="line">typedef void (^ReplyFailure)(NSURLSessionDataTask *task, id responseObject, NSDictionary* requestParams);</div><div class="line">/**</div><div class="line"> 请求错误回调</div><div class="line"> */</div><div class="line">typedef void (^ReplyError)(NSError *error, NSURLSessionDataTask *task, NSDictionary* requestParams);</div><div class="line">/*  上传进度</div><div class="line"> *</div><div class="line"> *  @param bytesWritten              已上传的大小</div><div class="line"> *  @param totalBytesWritten         总上传大小</div><div class="line"> */</div><div class="line">typedef void (^ReplyUploadProgress)(int64_t bytesWritten,int64_t totalBytesWritten);</div><div class="line"></div><div class="line">typedef void (^MultipartData)(id &lt;AFMultipartFormData&gt; formData);</div><div class="line"></div><div class="line">/**</div><div class="line"> 基础网络请求 其他的请求统一由此类发出</div><div class="line"></div><div class="line"> - HTTP_REQUEST_METHOD_GET:</div><div class="line"> - HTTP_REQUEST_METHOD_HEAD:</div><div class="line"> - HTTP_REQUEST_METHOD_POST:</div><div class="line"> - HTTP_REQUEST_METHOD_PUT:</div><div class="line"> - HTTP_REQUEST_METHOD_PATCH:</div><div class="line"> - HTTP_REQUEST_METHOD_DELETE:</div><div class="line"> */</div><div class="line">typedef NS_ENUM(NSUInteger, HTTP_REQUEST_METHOD) &#123;</div><div class="line">    </div><div class="line">    HTTP_REQUEST_METHOD_GET = 0,</div><div class="line">    HTTP_REQUEST_METHOD_HEAD,</div><div class="line">    HTTP_REQUEST_METHOD_POST,</div><div class="line">    HTTP_REQUEST_METHOD_PUT,</div><div class="line">    HTTP_REQUEST_METHOD_PATCH,</div><div class="line">    HTTP_REQUEST_METHOD_DELETE,</div><div class="line">&#125;;</div><div class="line"></div><div class="line">/**</div><div class="line"> 网络请求缓存处理</div><div class="line"></div><div class="line"> - NetworkCacheType_Never: 重不进行缓存处理</div><div class="line"> - NetworkCacheType_OnlyCache: 只进行缓存，但是不读取</div><div class="line"> - NetworkCacheType_CacheAndLoad: 进行缓存，并且请求数据时先进行加载缓存，本次请求数据，下次加载</div><div class="line"> */</div><div class="line">typedef NS_ENUM(NSUInteger, NetworkCacheType) &#123;</div><div class="line">    </div><div class="line">    NetworkCacheType_Never = 0,</div><div class="line">    NetworkCacheType_OnlyCache,</div><div class="line">    NetworkCacheType_CacheAndLoad,</div><div class="line"></div><div class="line">&#125;;</div><div class="line"></div><div class="line">@interface FrankNetworkManage : NSObject</div><div class="line"></div><div class="line">/**</div><div class="line"> *  创建单例对象</div><div class="line"> */</div><div class="line">+(instancetype)shareManager;</div><div class="line"></div><div class="line">/**</div><div class="line"> 网络数据的缓存处理类型</div><div class="line"> */</div><div class="line">@property (nonatomic,assign)NetworkCacheType cacheType;</div><div class="line"></div><div class="line">/**</div><div class="line"> *  判断请求时是否需要 hud</div><div class="line"> */</div><div class="line">@property (nonatomic, assign) BOOL isShowHUD;</div><div class="line"></div><div class="line">/**</div><div class="line"> *  请求之前的准备，可直接调用本类对象的 prepare</div><div class="line"> */</div><div class="line">@property (nonatomic, copy) RequestPrepare prepare;</div><div class="line"></div><div class="line">/**</div><div class="line"> *  一个网络请求返回后做清理。</div><div class="line"> */</div><div class="line">@property (nonatomic,copy) RequestFinally finally;</div><div class="line">/**</div><div class="line"> *  网络请求返回成功</div><div class="line"> */</div><div class="line">@property (nonatomic, copy) ReplySucess sucess;</div><div class="line"></div><div class="line">/**</div><div class="line"> *  失败</div><div class="line"> */</div><div class="line">@property (nonatomic, copy) ReplyFailure failure;</div><div class="line">/**</div><div class="line"> *  请求出错</div><div class="line"> */</div><div class="line">@property (nonatomic, copy) ReplyError error;</div><div class="line"></div><div class="line">/**</div><div class="line"> 共外界调用配置 判断逻辑【根据服务器返回值进行配置，可以在 Appdelegate 中进行设置】</div><div class="line"> *</div><div class="line"> *  @return YES 表示数据正确，NO 表示后台的错误提示，证明返回有误</div><div class="line"> */</div><div class="line">@property (nonatomic,copy) BOOL (^judgeResponseIsSuccess)(id responseSuccess);</div><div class="line">/*</div><div class="line"> *</div><div class="line"> *  用于指定网络请求接口的基础url，如：</div><div class="line"> *  http://www.baudu.com</div><div class="line"> *  通常在AppDelegate中启动时就设置一次就可以了。</div><div class="line">    如果接口有来源于多个服务器，可以调用更新</div><div class="line"> *</div><div class="line"> *</div><div class="line"> *  @param baseUrl 网络接口的基础url</div><div class="line"> */</div><div class="line">+ (void)updateBaseUrl:(NSString *)baseUrl;</div><div class="line">/*</div><div class="line"> *  对外公开可获取当前所设置的网络接口基础url</div><div class="line"> *</div><div class="line"> *  @return 当前基础url</div><div class="line"> */</div><div class="line">+ (NSString *)baseUrl;</div><div class="line">/**</div><div class="line"> 进行编码</div><div class="line"> */</div><div class="line">+ (NSString *)encodeUrl:(NSString *)url;</div><div class="line">/**</div><div class="line"> 自动判断 baseurl 并进行组合 url</div><div class="line"> */</div><div class="line">+ (NSString *)absoluteUrlWithPath:(NSString *)path;</div><div class="line"></div><div class="line"></div><div class="line">/**</div><div class="line"> *  统一网络请求</div><div class="line"> *</div><div class="line"> *  @param method      请求类型（直接调用 枚举）</div><div class="line"> *  @param urlString    请求URLString</div><div class="line"> *  @param headerParams 请求头添加的参数</div><div class="line"> *  @param params       请求参数</div><div class="line"> *  @param finally      请求结束，进行清理（直接调用）</div><div class="line"> *  @param sucess       请求成功，数据正常</div><div class="line"> *  @param failure      请求失败</div><div class="line"> *  @param netError      请求连接错误</div><div class="line"> */</div><div class="line">+(void)httpRequestWithHttpMethod:(HTTP_REQUEST_METHOD)method</div><div class="line">                       urlString:(NSString *)urlString</div><div class="line">                    headerParams:(NSDictionary *)headerParams</div><div class="line">                          params:(id)params</div><div class="line">                         finally:(RequestFinally)  finally</div><div class="line">                          sucess:(ReplySucess)   sucess</div><div class="line">                         failure:(ReplyFailure)  failure</div><div class="line">                           error:(ReplyError)netError;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">/*</div><div class="line"> *</div><div class="line"> *  开启或关闭是否自动将URL使用UTF8编码，用于处理链接中有中文时无法请求的问题</div><div class="line"> *</div><div class="line"> *  @param shouldAutoEncode YES or NO,默认为NO</div><div class="line"> */</div><div class="line">+ (void)shouldAutoEncodeUrl:(BOOL)shouldAutoEncode;</div><div class="line"></div><div class="line"></div><div class="line">/*</div><div class="line"> *	图片上传接口，若不指定baseurl，可传完整的url</div><div class="line"> *</div><div class="line"> *	@param image			图片对象</div><div class="line"> *	@param url				上传图片的接口路径，如/path/images/</div><div class="line"> *	@param filename		给图片起一个名字，默认为当前日期时间,格式为&quot;yyyyMMddHHmmss&quot;，后缀为`jpg`</div><div class="line"> *	@param name				与指定的图片相关联的名称，这是由后端写接口的人指定的，如imagefiles</div><div class="line"> *	@param mimeType		默认为image/jpeg</div><div class="line"> *	@param parameters	参数</div><div class="line"> *	@param progress		上传进度</div><div class="line"> *	@param success		上传成功回调</div><div class="line"> *	@param fail				上传失败回调</div><div class="line"> *</div><div class="line"> *	@return</div><div class="line"> */</div><div class="line"></div><div class="line">+ (void)uploadWithImage:(UIImage *)image</div><div class="line">                    url:(NSString *)url</div><div class="line">               filename:(NSString *)filename</div><div class="line">                   name:(NSString *)name</div><div class="line">               mimeType:(NSString *)mimeType</div><div class="line">             parameters:(NSDictionary *)parameters</div><div class="line">               progress:(ReplyUploadProgress)progress</div><div class="line">                success:(ReplySucess)success</div><div class="line">                   fail:(ReplyError)fail;</div><div class="line"></div><div class="line">/**</div><div class="line"> *	上传文件操作</div><div class="line"> *</div><div class="line"> *	@param url						上传路径</div><div class="line"> *	@param uploadingFile	待上传文件的路径</div><div class="line"> *	@param progress			上传进度</div><div class="line"> *	@param success				上传成功回调</div><div class="line"> *	@param fail					上传失败回调</div><div class="line"> *</div><div class="line"> */</div><div class="line">+ (void)uploadFileWithUrl:(NSString *)url</div><div class="line">            uploadingFile:(NSString *)uploadingFile</div><div class="line">                 progress:(ReplyUploadProgress)progress</div><div class="line">                  success:(ReplySucess)success</div><div class="line">                     fail:(ReplyError)fail;</div></pre></td></tr></table></figure>
<p>其中需要注意的是<code>@property (nonatomic,copy) BOOL (^judgeResponseIsSuccess)(id responseSuccess)</code>属性，这个是根据后台的数据格式配置请求结果判断的回调，只需要在<code>AppDelegate</code>中进行配置一次就行。例如：<br><img src="http://upload-images.jianshu.io/upload_images/1616138-cf1410326cdc0f45.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="配置示例.png"></p>
<h6>（2）网络下载框架：</h6>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div></pre></td><td class="code"><pre><div class="line">#import &quot;FrankNetworkManage.h&quot;</div><div class="line"></div><div class="line">/**</div><div class="line"> 断点下载</div><div class="line"></div><div class="line"> - DownloadStatus_ResumingDown: 开始下载</div><div class="line"> - DownloadStatus_SuspendDown: 暂停下载</div><div class="line"> */</div><div class="line">typedef NS_ENUM(NSInteger ,DownloadStatus) &#123;</div><div class="line">    </div><div class="line">    DownloadStatus_ResumingDown = 0,</div><div class="line">    DownloadStatus_SuspendDown = 1,</div><div class="line"></div><div class="line">&#125;;</div><div class="line"></div><div class="line">@interface FrankHttpDownloadManage : FrankNetworkManage</div><div class="line"></div><div class="line">/** AFNetworking断点下载（支持离线）需用到的属性 **********/</div><div class="line">/** </div><div class="line"> 文件的总长度</div><div class="line"> */</div><div class="line">@property (nonatomic,assign,readonly) NSInteger fileLength;</div><div class="line">/** </div><div class="line"> 当前下载长度</div><div class="line"> */</div><div class="line">@property (nonatomic,assign,readonly) NSInteger currentLength;</div><div class="line"></div><div class="line">/**</div><div class="line"> 下载文件保存路径</div><div class="line"> */</div><div class="line">@property (nonatomic,copy,readonly)NSString * downSavePath;</div><div class="line"></div><div class="line"></div><div class="line">/**</div><div class="line"> *	下载文件操作</div><div class="line"> *</div><div class="line"> *	@param url						下载地址</div><div class="line"> *	@param saveName               保存文件名字</div><div class="line"> *	@param progressBlock			下载进度</div><div class="line"> *	@param success                  下载成功回调</div><div class="line"> *	@param failure					下载失败回调</div><div class="line"> */</div><div class="line">- (instancetype)initWithDownloadUrl:(NSString *)url</div><div class="line">             saveName:(NSString *)saveName</div><div class="line">               progress:(ReplyUploadProgress)progressBlock</div><div class="line">                success:(ReplySucess)success</div><div class="line">                failure:(ReplyError)failure;</div><div class="line">/**</div><div class="line"> 下载状态</div><div class="line"> </div><div class="line"> - DownloadStatus_SuspendDown: 暂停下载</div><div class="line"> - DownloadStatus_ResumingDown: 开始下载</div><div class="line"> </div><div class="line"> */</div><div class="line">-(void)setDownloadStatus:(DownloadStatus)status;</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure>
<p></p><h6>（3）请求类BaseModel类 ：</h6><br>这个类是为了方便使用，而创建的一个基类框架，相当于在<code>ViewController</code>和<code>FrankNetworkManage</code>中间添加的一层，用于处理数据交互相关逻辑，所以后期创建具体请求类只需要集成该<code>BaseRequestHttpModel</code>类，重写父类方法即可。<br>代码解析：<p></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div></pre></td><td class="code"><pre><div class="line">#import &lt;Foundation/Foundation.h&gt;</div><div class="line">#import &quot;FrankNetworkMacro.h&quot;</div><div class="line"></div><div class="line">/**</div><div class="line"> 请求成功时返回的数据</div><div class="line"></div><div class="line"> @param models 数据模型</div><div class="line"> */</div><div class="line">typedef void(^SuccessModel)(id models);</div><div class="line"></div><div class="line"></div><div class="line">/**</div><div class="line"> 代理方式下的 网络请求结果状态</div><div class="line"></div><div class="line"> - ResponseHttpType_Success: 请求成功</div><div class="line"> - ResponseHttpType_Failure: 请求失败</div><div class="line"> - ResponseHttpType_NetworkError: 网络异常</div><div class="line"> */</div><div class="line">typedef NS_ENUM(NSInteger,ResponseHttpType) &#123;</div><div class="line">    ResponseHttpType_Success,</div><div class="line">    ResponseHttpType_Failure,</div><div class="line">    ResponseHttpType_NetworkError,</div><div class="line">&#125;;</div><div class="line">/**</div><div class="line"> 代理方式下的 网络请求类型，枚举回调区分</div><div class="line"> */</div><div class="line">typedef NS_ENUM(NSInteger,BusinessHttpType) &#123;</div><div class="line">    </div><div class="line">    BusinessHttpType_None = 0,// 默认状态</div><div class="line">    BusinessHttpType_LoadWeather ,// 请求天气</div><div class="line">    </div><div class="line">    // 此处可以根据自己的工程需求进行添加枚举分类。。。</div><div class="line">&#125;;</div><div class="line"></div><div class="line">#pragma mark -------- 通过 代理 方式处理请求回调，当使用 block 方式处理时，可以忽略代理  ---------</div><div class="line">@protocol BaseRequestHttpModelDelegate &lt;NSObject&gt;</div><div class="line"></div><div class="line">@optional</div><div class="line">/**</div><div class="line"> *  为了降低耦合性，通过这个协议方法可以在对请求状态进行判断</div><div class="line"> *</div><div class="line"> *  @param type      判断是哪一类发送的请求</div><div class="line"> *  @param retStatus 请求成功失败的状态</div><div class="line"> */</div><div class="line">- (void)DoneBusiness:(enum BusinessHttpType)type status:(ResponseHttpType)retStatus;</div><div class="line"></div><div class="line">@end</div><div class="line"></div><div class="line"></div><div class="line">@interface BaseRequestHttpModel : NSObject</div><div class="line"></div><div class="line"></div><div class="line">/**</div><div class="line"> 请求地址</div><div class="line"> */</div><div class="line">@property (nonatomic,strong)NSString * urlStr;</div><div class="line"></div><div class="line">/**</div><div class="line"> 请求头数据字典</div><div class="line"> */</div><div class="line">@property (nonatomic,strong)NSMutableDictionary * headerParams;</div><div class="line"></div><div class="line">/**</div><div class="line"> 网络请求失败回调</div><div class="line"> */</div><div class="line">@property (nonatomic,copy)ReplyFailure failureBlock;</div><div class="line">/**</div><div class="line"> 网络错误回调</div><div class="line"> */</div><div class="line">@property (nonatomic,copy)ReplyError networkerrBlock;</div><div class="line"></div><div class="line">#pragma mark -------- 通过 代理 方式处理请求回调  ---------</div><div class="line">#pragma mark -------- 通过 代理 方式处理请求回调  ---------</div><div class="line"></div><div class="line">/**</div><div class="line"> 设置网络请求代理【当使用 block 方式处理时，可以忽略代理】</div><div class="line"> */</div><div class="line">@property (nonatomic,weak)id &lt;BaseRequestHttpModelDelegate&gt;delegate;</div><div class="line">/**</div><div class="line"> 网络请求API类型</div><div class="line"> */</div><div class="line">@property (nonatomic,assign) BusinessHttpType businessType;</div><div class="line">/**</div><div class="line"> 告知当前网络处理状态</div><div class="line"> */</div><div class="line">-(void)doneBusiness:(ResponseHttpType)returnStatus;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">/**</div><div class="line"> 供子类调用 【  代理方式请求调用方法  】</div><div class="line"> </div><div class="line"> @param method 请求方式</div><div class="line"> @param params 请求参数数据</div><div class="line"> @param isNeedHeader 是否需要 请求头数据</div><div class="line"> */</div><div class="line">-(void)doRequestWithHttpMethod:(HTTP_REQUEST_METHOD)method</div><div class="line">                        params:(id)params</div><div class="line">            isNeedHeaderParams:(BOOL)isNeedHeader;</div><div class="line"></div><div class="line">#pragma mark -------- 通过 block 方式处理请求回调  ---------</div><div class="line">#pragma mark -------- 通过 block 方式处理请求回调  ---------</div><div class="line"></div><div class="line">/**</div><div class="line"> 供子类调用 【  代理方式请求调用方法  】</div><div class="line"> </div><div class="line"> @param method 请求方式</div><div class="line"> @param params 请求参数数据</div><div class="line"> @param isNeedHeader 是否需要 请求头数据</div><div class="line"> @param success 成功回调数据模型</div><div class="line"> @param fail 失败回调</div><div class="line"> @param errorBlock 链接错误回调</div><div class="line"> */</div><div class="line">-(void)doRequestWithHttpMethod:(HTTP_REQUEST_METHOD)method</div><div class="line">                        params:(id)params</div><div class="line">        isNeedHeaderParams:(BOOL)isNeedHeader</div><div class="line">                   success:(SuccessModel)success</div><div class="line">                   failure:(ReplyFailure)fail</div><div class="line">                  netError:(ReplyError)errorBlock;</div><div class="line"></div><div class="line">#pragma mark -------- 根据自己的需求进行重写，数据转模型  ---------</div><div class="line"></div><div class="line">/**</div><div class="line"> 之类需要根据自己的需求进行重写</div><div class="line"> 处理请求成功时，字典转模型的具体实现，并返回字典模型</div><div class="line"></div><div class="line"> @param responseObject 响应数据</div><div class="line"> @param requestParams 请求数据</div><div class="line"> */</div><div class="line">-(id)changeDateForModelWithResponseObject:(id)responseObject requestParams:(NSDictionary *)requestParams;</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure>
<p></p><h6>注意点：</h6><br>（1）当使用代理方式进行处理网络回调时，需要设置 <code>delegate</code>，调用请求方法<p></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> 供子类调用 【  代理方式请求调用方法  】</div><div class="line"></div><div class="line"> @param method 请求方式</div><div class="line"> @param params 请求参数数据</div><div class="line"> @param isNeedHeader 是否需要 请求头数据</div><div class="line"> */</div><div class="line">-(void)doRequestWithHttpMethod:(HTTP_REQUEST_METHOD)method</div><div class="line">                        params:(id)params</div><div class="line">            isNeedHeaderParams:(BOOL)isNeedHeader;</div></pre></td></tr></table></figure>
<p>并且实现代理方法即可，后续的处理逻辑可以统一放在代理方法中进行处理</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> *  为了降低耦合性，通过这个协议方法可以在对请求状态进行判断</div><div class="line"> *</div><div class="line"> *  @param type      判断是哪一类发送的请求</div><div class="line"> *  @param retStatus 请求成功失败的状态</div><div class="line"> */</div><div class="line">- (void)DoneBusiness:(enum BusinessHttpType)type status:(ResponseHttpType)retStatus</div></pre></td></tr></table></figure>
<p>（2）当使用<code>block</code>回调进行处理网络回调时，只需要调用请求方法，对于每一个请求结果的处理都可以单独进行处理</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> 供子类调用 【  代理方式请求调用方法  】</div><div class="line"> </div><div class="line"> @param method 请求方式</div><div class="line"> @param params 请求参数数据</div><div class="line"> @param isNeedHeader 是否需要 请求头数据</div><div class="line"> @param success 成功回调数据模型</div><div class="line"> @param fail 失败回调</div><div class="line"> @param errorBlock 链接错误回调</div><div class="line"> */</div><div class="line">-(void)doRequestWithHttpMethod:(HTTP_REQUEST_METHOD)method</div><div class="line">                        params:(id)params</div><div class="line">        isNeedHeaderParams:(BOOL)isNeedHeader</div><div class="line">                   success:(SuccessModel)success</div><div class="line">                   failure:(ReplyFailure)fail</div><div class="line">                  netError:(ReplyError)errorBlock;</div></pre></td></tr></table></figure>
<p>但是不管是用那种方式，如果想要实现字典转模型，那都需要在子类中重写实现具体方法逻辑</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> 之类需要根据自己的需求进行重写</div><div class="line"> 处理请求成功时，字典转模型的具体实现，并返回字典模型</div><div class="line"></div><div class="line"> @param responseObject 响应数据</div><div class="line"> @param requestParams 请求数据</div><div class="line"> */</div><div class="line">-(id)changeDateForModelWithResponseObject:(id)responseObject requestParams:(NSDictionary *)requestParams;</div></pre></td></tr></table></figure>
<p>两种方式虽然方式不同，但是效果相同，所以只需要根据自己的喜好及业务需求进行选择使用即可。</p>
<p></p><h6>（4）加载动画HUD展示：</h6><br>这部分是加载动画hud，具体内容可移步 <a href="http://www.jianshu.com/p/e8399a35c7fb" target="_blank" rel="external">FrankActivityHUD 动画</a> 进行查看<br><p></p>
<p></p><h6>（5）设备信息加载工具 <code>DeviceManager</code>：</h6><br>这部分主要是为了方便查看、获取一些设备信息而集成的一个工具单例类，功能如下：<p></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div></pre></td><td class="code"><pre><div class="line">#import &lt;Foundation/Foundation.h&gt;</div><div class="line">#import &lt;CoreLocation/CoreLocation.h&gt;</div><div class="line">#import &lt;UIKit/UIKit.h&gt;</div><div class="line"></div><div class="line">//获取当前设备对应的height</div><div class="line">#define Screen_height (MAX([[UIScreen mainScreen] bounds].size.height, [[UIScreen mainScreen] bounds].size.width))</div><div class="line">//获取当前设备对应的width</div><div class="line">#define Screen_width (MIN([[UIScreen mainScreen] bounds].size.height, [[UIScreen mainScreen] bounds].size.width))</div><div class="line">//用于判断设备是否为长屏幕iphone，比如iphone5，iphone6，iphone6plus</div><div class="line">#define IS_4inchIPHONE ( !IS_IPHONE4 )</div><div class="line">//用于判断设备是否为iphone4</div><div class="line">#define IS_IPHONE4 ( fabs( ( double )Screen_height - ( double )480 ) &lt; DBL_EPSILON )</div><div class="line">//用于判断设备是否为iphone5</div><div class="line">#define IS_IPHONE5s_SE ( fabs( ( double )Screen_height - ( double )568 ) &lt; DBL_EPSILON )</div><div class="line">//用于判断设备是否为iphone6\iphone6plus</div><div class="line">#define IS_IPHONE6_7 ( fabs( ( double )Screen_height - ( double )667 ) &lt; DBL_EPSILON )</div><div class="line">//用于判断设备是否为iphone6plus</div><div class="line">#define IS_IPHONE6_PLUS ( fabs( ( double )Screen_height - ( double )736 ) &lt; DBL_EPSILON)</div><div class="line">//用于判断设备是否为iphone6之后</div><div class="line">#define IS_IPHONE6_OR_LATER (((double)Screen_height - (double )568) &gt; DBL_EPSILON)</div><div class="line"></div><div class="line">// 比当前版本大</div><div class="line">#define NOT_LESS_THAN_IOSVERSION(version) ([[[UIDevice currentDevice] systemVersion] floatValue] &gt;= version)</div><div class="line">// ios7 之后</div><div class="line">#define IOS7_OR_LATER ([[[UIDevice currentDevice] systemVersion] compare:@&quot;7.0&quot; options:NSNumericSearch] != NSOrderedAscending)</div><div class="line">// ios8 之后</div><div class="line">#define IOS8_OR_LATER ([[[UIDevice currentDevice] systemVersion] compare:@&quot;8.0&quot; options:NSNumericSearch] != NSOrderedAscending)</div><div class="line">// ios9 之后</div><div class="line">#define IOS9_OR_LATER ([[[UIDevice currentDevice] systemVersion] compare:@&quot;9.0&quot; options:NSNumericSearch] != NSOrderedAscending)</div><div class="line">// ios10 之后</div><div class="line">#define IOS10_OR_LATER ([[[UIDevice currentDevice] systemVersion] compare:@&quot;10.0&quot; options:NSNumericSearch] != NSOrderedAscending)</div><div class="line"></div><div class="line"></div><div class="line">@interface DeviceManage : NSObject</div><div class="line"></div><div class="line"></div><div class="line">/**</div><div class="line"> *  网络状态</div><div class="line"> */</div><div class="line">@property(nonatomic,copy)NSString * netWorkStatus;</div><div class="line"></div><div class="line">/**</div><div class="line"> *  设备系统版本</div><div class="line"> */</div><div class="line">@property (nonatomic, copy) NSString *systemVersion;</div><div class="line">/**</div><div class="line"> *   设备系统名</div><div class="line"> */</div><div class="line">@property (nonatomic,  copy) NSString *systemName;</div><div class="line">/**</div><div class="line"> *  机型</div><div class="line"> */</div><div class="line">@property (nonatomic,  copy) NSString *deviceModel;</div><div class="line">/**</div><div class="line"> *  设备名称（别名）</div><div class="line"> */</div><div class="line">@property (nonatomic,  copy) NSString *deviceName;</div><div class="line">/**</div><div class="line"> *  设备型号</div><div class="line"> */</div><div class="line">@property (nonatomic,  copy) NSString *deviceType;</div><div class="line">/**</div><div class="line"> *  手机总存储容量</div><div class="line"> */</div><div class="line">@property (nonatomic,  strong)NSString * totalDSB;</div><div class="line">/**</div><div class="line"> *  手机空闲存储容量</div><div class="line"> */</div><div class="line">@property (nonatomic,  strong)NSString * freeDSB;</div><div class="line">/**</div><div class="line"> *  手机总内存容量</div><div class="line"> */</div><div class="line">@property (nonatomic,  strong)NSString * totalMB;</div><div class="line">/**</div><div class="line"> *  手机空闲内存容量</div><div class="line"> */</div><div class="line">@property (nonatomic,  strong)NSString * freeMB;</div><div class="line">/**</div><div class="line"> *  cpu类型</div><div class="line"> */</div><div class="line">@property(nonatomic,strong)NSString * cpuType;</div><div class="line">/**</div><div class="line"> *  屏幕宽度</div><div class="line"> */</div><div class="line">@property (nonatomic, assign) CGFloat screenWidth;</div><div class="line">/**</div><div class="line"> *  屏幕高度</div><div class="line"> */</div><div class="line">@property (nonatomic, assign) CGFloat screenHeight;</div><div class="line">/**</div><div class="line"> *  分辨率</div><div class="line"> */</div><div class="line">@property (nonatomic, assign) CGFloat screenScale;</div><div class="line">/**</div><div class="line"> *  处理器（多核）</div><div class="line"> */</div><div class="line">@property (nonatomic, assign) NSInteger cpuCoreCount;</div><div class="line">/**</div><div class="line"> *  应用版本 【version】</div><div class="line"> */</div><div class="line">@property (nonatomic, strong) NSString *applicationMajorVersion;</div><div class="line">/**</div><div class="line"> *  最小版本 【build version】</div><div class="line"> */</div><div class="line">@property (nonatomic, strong) NSString *applicationMinorVersion;</div><div class="line">/**</div><div class="line"> *  当前应用名</div><div class="line"> */</div><div class="line">@property (nonatomic, strong) NSString *applicationDisplayName;</div><div class="line">/**</div><div class="line"> *  应用标识符</div><div class="line"> */</div><div class="line">@property (nonatomic, strong) NSString *applicationIdentifier;</div><div class="line">/**</div><div class="line"> *  启动状态</div><div class="line"> */</div><div class="line">@property (nonatomic, assign) NSInteger fetchLocationErrorCode;//-2--not started or OK, -1--in progress, &gt;=0----failed</div><div class="line">/**</div><div class="line"> *  获取手机 IP 地址</div><div class="line"> */</div><div class="line">@property (nonatomic, strong) NSString * phoneIPAdress;</div><div class="line">/**</div><div class="line"> *   获取手机 Mac 地址</div><div class="line"> */</div><div class="line">@property (nonatomic, strong) NSString * phoneMacAddress;</div><div class="line">/**</div><div class="line"> *  获取单例对象</div><div class="line"> */</div><div class="line">+(DeviceManage *)shareDeviceManage;</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure>
<p></p><h6>（6）数据库存储框架：</h6><br>文件中包含三个类文件：<br><code>（1）FrankFMDBManage：</code>是基于<code>FMDB</code>集成的数据库工具，隔离了<code>SQL语句</code>繁琐的操作，并且结合<code>runtime</code>实现了对象的直接存储操作，支持增、删、改、查、支持原始网络数据的存储<br><code>（2）FrankUserDefaults：</code>是对 <code>NSUserDefaults</code>进行的一个简单封装，并且提供了不同类型数据的本地读写功能<br><code>（3）NSString+Category：</code>是对<code>NSString</code>的一个分类，将一些常用的<code>NSString</code>功能方法进行封装，以便调用<p></p>
<p>具体的使用详情可参见  <a href="https://github.com/Kinglions/FrankNetworkManage" target="_blank" rel="external">Demo链接：  https://github.com/Kinglions/FrankNetworkManage</a><br> 如有发现存在问题，希望可以及时提出，相互交流，共同进步</p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2017-06-14</span><i class="fa fa-comment-o"></i><a href="/2017/06/14/基于AF的二次封装FrankNetworkManage/#comments">评论</a><i class="fa fa-tag"></i></div></div></div></div><div class="share"><div class="evernote"> <a href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank" class="fa fa-bookmark"></a></div><div class="weibo"> <a href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));" class="fa fa-weibo"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a role="navigation" href="/2017/06/14/空白占位页-UIView-FrankPlaceHolderView/" title="空白占位页 UIView+FrankPlaceHolderView" class="btn">上一篇</a></li><li class="next pagbuttons"><a role="navigation" href="/2017/06/10/FrankActivityHUD/" title="FrankActivityHUD" class="btn">下一篇</a></li></ul></div><a id="comments"></a><div id="disqus_thread"></div><script>var disqus_shortname = 'kinglionsfrank';
var disqus_identifier = '2017/06/14/基于AF的二次封装FrankNetworkManage/';
var disqus_title = '基于AF的二次封装FrankNetworkManage';
var disqus_url = 'https://Kinglions.github.io/2017/06/14/基于AF的二次封装FrankNetworkManage/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//kinglionsfrank.disqus.com/count.js" async></script></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>